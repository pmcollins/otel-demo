<html lang="en">

<head>
    <title>OTel Python Demo</title>
    <style>
        html {
            font-family: monospace;
            font-size: 1.5em;
            color: #b0b0b0;
            background-color: black;
        }

        table {
            width: 100%;
        }

        td {
            vertical-align: top;
            border: solid #222 1px;
        }
    </style>

    <script>
        function mkRequest(url, outputId) {
            const clientLibSelector = document.getElementById('client-lib-selector')
            const textboxEl = document.getElementById(outputId);
            const urlWithParams = url + '?client_lib=' + encodeURIComponent(clientLibSelector.value)
            fetch(urlWithParams).then(
                resp => resp.json()
            ).then(
                data => textboxEl.value = data['library']
            );
        }
    </script>

</head>

<body>

<h2>home</h2>

<h3><a href="/metrics">View Metrics</a></h3>

<h3>
    <label for="client-lib-selector">Client HTTP Library</label>
    <select id="client-lib-selector">
        <option>urllib</option>
        <option>httpx</option>
        <option>requests</option>
    </select>
</h3>

<h3>
    <input type="button" value="FastAPI" onclick="mkRequest('/fastapi', 'fastapi-results')">
    <label>
        <span>Output</span>
        <input type="text" id="fastapi-results">
    </label>
</h3>

<h3>
    <input type="button" value="Flask" onclick="mkRequest('/flask', 'flask-results')">
    <label>
        <span>Output</span>
        <input type="text" id="flask-results">
    </label>
</h3>

<h3>
    <input type="button" value="Bottle" onclick="mkRequest('/bottle', 'bottle-results')">
    <label>
        <span>Output</span>
        <input type="text" id="bottle-results">
    </label>
</h3>

<h3>
    <input type="button" value="Pyramid" onclick="mkRequest('/pyramid', 'pyramid-results')">
    <label>
        <span>Output</span>
        <input type="text" id="pyramid-results">
    </label>
</h3>

<h3>
    <input type="button" value="Tornado" onclick="mkRequest('/tornado', 'tornado-results')">
    <label>
        <span>Output</span>
        <input type="text" id="tornado-results">
    </label>
</h3>

</body>

</html>
